function alpha = lineSearch(theta0, cost_fn, p)
% sets step size using line search
% x0 is current location
% p is step direction

alpha = 0.1;
% base tuning parameter
gamma = 0.7;

theta = theta0 + p'*alpha;
[C, G] = cost_fn();

while (theta0 + p'*alpha < cost_fn( ))
    alpha = gamma * alpha;
    theta = theta + p'*alpha;    
end